# ðŸ“Š Advanced Profit Bridge Model in DAX (FX-Adjusted Normative Decomposition)

Welcome to this repository. Here you will find an analytical model developed in **Power BI with DAX**, designed to audit and explain a multinational company's profitability variations with exact mathematical precision.

<img width="1089" height="614" alt="image" src="https://github.com/user-attachments/assets/ed1187ea-dfeb-44a4-8566-beae445b6ea3" />

## ðŸŽ¯ What is this project about?
When a multinational company's profits go up or down between two periods, executives need to know exactly *why*. Traditionally, analysts build "Profit Bridges" (Price-Volume-Mix analysis) that often leave margins of error, unexplained "cross-terms", and fail to separate operational performance from macroeconomic noise.

This model applies the **Normative Decomposition** framework extended by Dr. Tim J. Smith, Kyle T. Westra, and Nathan L. Phipps in their scientific publication *"Profit bridges that disambiguate impacts of currency fluctuations from other marketing variables" (2023)*. 

The magic of this approach lies in using inter-period averages to perfectly isolate the impact of five key variables, without leaving a single cent unexplained:

* **ðŸ“ˆ Volume Impact (QI):** How much money we gained/lost by selling more or fewer units.
* **ðŸ·ï¸ Price Impact (PI):** The pure effect of our price increases or decreases.
* **âš™ï¸ Variable Cost Impact (VI):** Operational efficiency when reducing or increasing costs.
* **ðŸ”€ Mix Effect (MI):** How the change in the proportion of sold products impacted overall profitability (e.g., selling more of the high-margin products).
* **ðŸ’± FX Impact (Currency Fluctuation):** How changes in foreign exchange rates artificially inflated or deflated our reported profits, isolating macroeconomic noise from actual management performance.

## ðŸ› ï¸ Tools Used
* **Power BI:** Data modeling and interactive visualization.
* **DAX Language:** Advanced iterative measures using `SUMX`, `CALCULATE`, and context transitions to perform row-by-row algebraic calculations.

## ðŸ’¡ Why is it different from a traditional analysis?
Most systems fail when calculating the **Mix Effect** because they use a single period as a static baseline, and they completely distort operational metrics when **exchange rates** are volatile. This DAX model iterates product by product, comparing margin differences, relative weights, and currency rates against a neutral state (inter-period average). 

**The result: The sum of the 5 impacts is exactly equal to the profit variation in the reported bank account.**

## ðŸ§® The Math Behind the Model (The "Cross-Term" Problem)

Most analysts building a Profit Bridge run into a fundamental mathematical problem: **The Cross-Term**.


Imagine your revenue is a rectangle where the base is the **Quantity (Q)** and the height is the **Price (P)**. If from one month to the next you increase the Price and also manage to sell more Quantity, your new revenue rectangle is larger. That total growth is divided into three parts:
1. The increase from the new price.
2. The increase from the new quantity.
3. **The cross-term ($\Delta P \times \Delta Q$):** A small area generated by the interaction of both variables at the same time.

In a multinational context, this gets exponentially harder because we introduce a new multiplier: the **Exchange Rate (E)**. Now we have complex 3-way cross-terms ($\Delta P \times \Delta Q \times \Delta E$). 

**The traditional dilemma:** Who gets the credit for the money from these cross-terms? Classic systems assign them arbitrarily or leave them as an "Unexplained Variance / Residual", which muddies the analysis.

### The FX-Adjusted Normative Solution
Smith et al. (2023) demonstrated that the only mathematically fair and neutral way to distribute these cross-terms (and eliminate residuals) is by using **inter-period averages**. 

By multiplying the variations by the *average state* of the other variables, the model assumes a neutral stance that perfectly collapses the algebraic equations. Denoting the Variance with the symbol **$\Delta$** and the Average with an **overbar** ($\overline{X}$), here is how this DAX model calculates the 5 impacts in the reporting currency:

* **ðŸ·ï¸ Price Impact (PI):** Isolates local price changes assuming volume and exchange rates remained in their average state.
  > **$\Delta P \times \overline{Q} \times \overline{E}$**

* **âš™ï¸ Cost Impact (VI):** Isolates cost efficiency changes (negative because a cost increase reduces profit).
  > **$-\Delta V \times \overline{Q} \times \overline{E}$**

* **ðŸ“¦ Volume Impact (QI):** Measures the expansion/contraction of total units sold, holding mix, margins, and currency neutral.
  > **$\Delta Q_{total} \times (\overline{P} - \overline{V}) \times \overline{Mix} \times \overline{E}$**

* **ðŸ”€ Mix Effect (MI):** Measures the gain/loss obtained by selling a higher or lower proportion of high-margin products.
  > **$\overline{Q}_{total} \times (\overline{P} - \overline{V}) \times \Delta Mix \times \overline{E}$**

* **ðŸ’± FX Impact (Currency Fluctuation):** Isolates the pure effect of the exchange rate moving, assuming the entire operational business (Price, Cost, Vol, Mix) remained at its average state.
  > **$\Delta E \times [\overline{Q}_{total} \times (\overline{P} - \overline{V}) \times \overline{Mix}]$**

### How does this translate to DAX?

In the source code of this Power BI model, you will notice the systematic creation of measures that sum Period 1 and Period 2, dividing them by 2 (e.g., `DIVIDE([PriceP1] + [PriceP2], 2)`). 

These measures represent the average bars ($\overline{P}$, $\overline{Q}$, $\overline{Mix}$, $\overline{E}$). By using the `SUMX` iterator function to evaluate these equations row by row (product by product), all cross-terms cancel each other out, ensuring that the sum of the 5 operational and macroeconomic impacts explains **100% of the actual profit variance ($\Delta \Pi$)** without any rounding errors.
